TODO stack
----------

* Benchmark hashtbl vs Maplot with runcgi

* Filters for http method, vlan, etc, should be multiselect or
accept syntax such as "3,5,67-78", and these params should be returned
as functions. The only exception is ip srv which is used as an index.

* in the netgraph, display roles or IPs, as the port the IP is server for (ie
traffic decomposition by srv port).

* for netgrap add a filter on srv port, eth proto, ip proto...

* Add metric for TCP, Sql, VoIP, ...

* Remove all non-ip traffic when we ask an IP peer graph

* Apart in place where we have Y per secs, keep integers instead of floats
  for volumes.

* Timestamp should recognize some keywords such as now.

* Timestamp read as relative date should be kept that way (ie. Timestamp
should be Abs of ts | Rel of float.

* Move code from traffic.ml / dns.ml / web.ml into www/index.ml Ctlr *or*
  make all these available from cmd line

* Peers : pour chaque A,B sélectionné dans la première passe, calculer
ensuite le traffic exact entre A et B et aussi le traffic total 
entrant/sortant de A et de B, et afficher ainsi pour tout host le traffic
"autre". Autre possibilité, à partir des tops peers, calculer la matrice des
échanges entre tous ces peers et l'afficher en cercle.

* A queries chart as a cloud of dots

* A max packet size chart, as an histogram

* An eth/ip connection graph (with the usual filters)

* An Interval type

* In all time charts where the selected period spans no more than 10 days,
display in chart background the night times with a sligh dark-blue bgcolor.
Same spirit: add a vertical bar at current time.

* junkie.scm: for http, add an intermediary state between query and answer
matching any packet belonging to this cnx in order to reset the timeout clock.

* Add the possibility to listen on any event in netmatch (like HTTP end of 
body)

* Add payload and its transfert time to web metric


* A repair tool (scanning files and reporting those that cannot be read,
  for later inspection/deletion, or offering to truncate the file (or merely
display file and offset where the error occured))


* Fix multiple writer by flushing in O_APPEND after complete tuples


* In the same spirit than locking, write a file with the textual 
representation of the record type in a table directory (and check it when 
opening the table).


* Think of a way to ensure that when we compute a hash to select a part of
a table we actually hash the correct datatype (ie. Dns0.hash takes a full 
record, extract something then hash this, while Dns0.dump hash a server IP,
check that what Dns0.hash extract is also an IP). Additionally, simplify
the index handling (Dns0.dump is too complex wrt. index)


* Dump should be able to send output to a pipe (ssh compressed tunnel) for
distributed querying


* IP proto devrait être une selectbox

